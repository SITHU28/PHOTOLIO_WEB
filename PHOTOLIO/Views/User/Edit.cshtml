@model PHOTOLIO.ViewModel.UserVM

@{
    ViewBag.Title = "User Edit Form";
}
@{
    var currentUser = (PHOTOLIO.ViewModel.UserVM)Session["CurrentUser"];
}
    <body>

        @*<section class="editsection">
            <div class="container" style="margin-top:100px;">

                <div class="row">
                    <div class="col-md-12">
                        <div class="box box-success">

                            <!-- form start -->
                            <form class="form-horizontal" id="frmUser">
                                <div class="box-body">
                                    <input type="hidden" id="hidId" value="@Model.Id" />
                                    <input type="hidden" id="hidVersion" value="@Model.Version" />

                                    <div class="form-group">
            <input type="hidden" id="hidId" value="@Model.Id" />
            <input type="hidden" id="hidVersion" value="@Model.Version" />

            <label for="selProfile" class="col-sm-2 control-label">Photo</label>
            <div class="col-sm-10">
                <img id="ProfilePrev" src="data:image;base64,@System.Convert.ToBase64String(Model.Profile)" width="80" height="80" />
                <input type="file" id="selProfile" name="selProfile" accept="image/*" onchange="ShowPreview(this)">

            </div>
        </div>
        <div class="form-group">
            <label for="txtName" class="col-sm-2 control-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="txtName" name="txtName" value="@Model.Name" placeholder="Name">
            </div>
        </div>
        <div class="form-group">
            <label for="txtEmail" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" id="txtEmail" name="txtEmail" value="@Model.Email" placeholder="Email">
            </div>
        </div>
        <div class="form-group">
            <label for="txtPassword" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="txtPassword" name="txtPassword" value="@Model.Password" placeholder="Password">
            </div>
        </div>
        <div class="form-group">
            <label for="txtBIO" class="col-sm-2 control-label">Your Bio</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="txtBIO" name="txtBIO" value="@Model.UserBio" placeholder="Your Bio">
            </div>
        </div>
        <div class="form-group">
            <label for="txtFullAddress" class="col-sm-2 control-label">Full Address</label>
            <div class="col-sm-10">
                <textarea class="form-control" rows="3" id="txtFullAddress" name="txtFullAddress" placeholder="Full Address ...">@Model.FullAddress</textarea>
            </div>
        </div>
        <div class="form-group">
            <label for="txtPhoneNo" class="col-sm-2 control-label">Phone No.</label>
            <div class="col-sm-10">
                <input type="tel" class="form-control" id="txtPhoneNo" name="txtPhoneNo" value="@Model.PhoneNo" placeholder="Phone No.">
            </div>
        </div>  
                                            
                                        </div>
                                        <div class="box-header with-border" style="margin-bottom:20px; float:right">
                                            <button type="button" class="btn btn-success" onclick="update()">Update</button>

                                            @if (currentUser.PositionId == 1) //Admin
                                            {
                                                <button type="button" class="btn btn-default" onclick="window.location='/User/List'">Cancel</button>
                                            }
                                            else if (currentUser.PositionId != 1)
                                            {
                                                <button type="button" class="btn btn-default" onclick="window.location='/Home/Index'">Cancel</button>
                                            }

                                        </div>
                                        <!-- /.box-body -->
                                    </form>
                                </div>
                    </div>
                </div>
            </div>
        </section>*@

        <!-- Page Container -->
        <section class="editsection">
            
            <div class="ST-content " style="max-width:1300px; margin-top:55px;margin-bottom:50px;">
                   
                    <!-- The Grid -->
                <div class="ST-row-padding">

                    <!-- Left Column -->

                    <div class="ST-third">

                        <div class="ST-white ST-text-grey ST-card-4">
                            <div class="ST-display-container">
                                <!-- form start -->
                                <form class="form-horizontal" id="frmUser">
                                    <div class="box-body">
                                        <input type="hidden" id="hidId" value="@Model.Id" />
                                        <input type="hidden" id="hidVersion" value="@Model.Version" />
                                        <div class="ST-display-container">
                                            <center>
                                                <img id="ProfilePrev" src="data:image;base64,@System.Convert.ToBase64String(Model.Profile)" style="width:100%; height:300px; padding:5px;" alt="Profile" />
                                            </center>
                                            <div class="ST-display-bottomleft ST-container ST-text-black ST-galleryfont ST-opacity-min" style="width:100%">
                                                <h2>@Model.Name</h2>
                                                <button type="button" id="custom-button" class="ST-button"><i class="fa fa-camera"></i></button>
                                                <input style=" margin-top:10px; display:none;" type="file" id="selProfile" name="selProfile" accept="image/*" onchange="ShowPreview(this)">
                                            </div>
                                        </div>
                                        <div class="ST-container" style="margin-top:10px;">

                                            <br />
                                            <label for="txtUserName" class=" control-label">Name</label>
                                            <input type="text" class="form-control" id="txtUserName" name="txtUserName" value="@Model.Name" placeholder="Name">
                                            <label for="txtEmail" class=" control-label">Email</label>
                                            <input type="email" class="form-control" id="txtEmail" name="txtEmail" value="@Model.Email" placeholder="Email">
                                            <label for="txtUserPassword" class=" control-label">Password</label>
                                            <input type="text" class="form-control" id="txtUserPassword" name="txtUserPassword" value="@Model.Password" placeholder="Password">
                                            <label for="txtBIO" class=" control-label">Your Bio</label>
                                            <input type="text" class="form-control" id="txtBIO" name="txtBIO" value="@Model.UserBio" placeholder="Your Bio">
                                            <label for="txtPhoneNo" class="control-label">Phone No.</label>
                                            <input type="tel" class="form-control" id="txtPhoneNo" name="txtPhoneNo" value="@Model.PhoneNo" placeholder="Phone No.">
                                            <label for="txtFullAddress" class=" control-label">Full Address</label>
                                            <textarea class="form-control" rows="3" id="txtFullAddress" name="txtFullAddress" placeholder="Full Address ...">@Model.FullAddress</textarea>

                                            <div class="box-header with-border" style="margin-bottom:15px;margin-top:15px; float:right">
                                                <button type="button" style="margin-right:15px" class="ST-button ST-round ST-blue " onclick="update()">Update</button>
                                                @if (currentUser.PositionId == 1) //Admin
                                                {
                                                    <button type="button" class=" ST-button ST-round ST-light-gray" onclick="window.location='/User/List'">Cancel</button>
                                                }
                                                else if (currentUser.PositionId != 1)
                                                {
                                                    <button type="button" class="ST-button ST-round ST-light-gray" onclick="window.location='/Home/Index'">Cancel</button>
                                                }
                                            </div>
                                        </div>
                                    </div>

                                    <!-- /.box-body -->
                                </form>
                            </div><br>
                        </div>
                    </div>
                    <!-- End Left Column -->               
                    <!-- Right Column (User Bio)-->
                    <div class="ST-twothird">
                        <div class="ST-container ST-card ST-white ST-margin-bottom">
                            <h2 class="ST-text-grey ST-padding-16"><i class="fa fa-user fa-fw ST-margin-right ST-xxlarge ST-text-blue"></i>My Bio</h2>
                            <p>@Model.UserBio</p>
                        </div>


                        <!------Portfolio Side-->
                        <div class="ST-container ST-card ST-white ">
                            <!-- Header -->
                            <header id="portfolio">
                                <div class="ST-container">
                                    <h1><b>My Portfolio</b></h1>
                                    <div class="ST-section ST-bottombar ST-padding-16">
                                        @*<button class="ST-button ST-black">ALL</button>
            <button class="ST-button ST-white"><i class="fa fa-diamond ST-margin-right"></i>Portraits</button>
            <button class="ST-button ST-white ST-hide-small"><i class="fa fa-photo ST-margin-right"></i>Landscepes</button>
            <button class="ST-button ST-white ST-hide-small"><i class="fa fa-file-photo-o ST-margin-right"></i>Othres</button>*@
                                    </div>
                                    <button class="ST-button ST-blue ST-round" style="margin-bottom:10px;"><i class="fa fa-plus"></i> ADD PHOTO</button>
                                </div>
                            </header>

                            <!-- First Photo Grid-->
                            <div class="ST-container">
                                <div class="responsive ST-animate-zoom ">
                                    <div class="gallery ST-card ST-round">
                                        <a target="_blank" href="#">
                                            <img src="~/wwwroot/dist/images/profile.png" alt="Photo" width="600" height="400">
                                        </a>
                                        <div class="desc">
                                            Descriptions <span style="color:red">---</span>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <h1><b>How much I charge</b></h1>
                            <div class="ST-section ST-bottombar ST-padding-10"></div>
                            <!-- Pricing Tables -->
                            <div class="ST-row-padding ST-round" style="margin:0 -16px" id="packages">
                                <div class="ST-container" style="margin-bottom:10px;">
                                    <button class="ST-button ST-round ST-blue ST-padding-large ST-hover-black "><i class="fa fa-plus"></i> ADD Package</button>
                                </div>

                                    <div class="ST-third ST-margin-bottom">
                                    <ul class="ST-ul ST-border ST-white ST-center ST-opacity ST-hover-opacity-off">
                                        <li class="ST-black ST-xlarge ST-padding-32">Package Title</li>
                                        <li class="ST-padding-16">Prewedding</li>

                                        <li class="ST-padding-16">
                                            <h2>$ 10</h2>
                                            <span class="ST-opacity">per month</span>
                                        </li>
                                        <li class="ST-light-grey ST-padding-24">
                                            <button class="ST-button ST-round ST-blue ST-padding-large ST-hover-black">Grab It</button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Calendar -->
                            <div class="ST-section ST-bottombar ST-padding-10"></div>
                            <div class="ST-container ST-padding-large ST-blue ST-left" style="width:40%">
                                <h4 id="contact"><b>Calendar</b></h4>

                                <hr class="ST-opacity">

                            </div>
                            <!-- Contact Section -->
                            

                        </div>
                        <!-- End Right Column -->

                    </div>
                    <!-- End Grid -->
                </div>
              
                <!-- End Page Container -->
            </div>
               
        </section>
      
        <!-------------------------------------------------------------------------------------Message Box------------->
        <div class="modal" id="divSuccess" style="margin-top:80px;" >
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <center>
                            <img src="~/wwwroot/dist/images/PhotolioCircleicon.ico" style="width:50px;height:50px" />
                            <h4 class="modal-title">Edit User</h4>
                        </center>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p id="pMessage"></p>
                    </div>
                    <div class="modal-footer">
                        @if (currentUser.PositionId != 1) //User
                        {
                            <button type="button" class="ST-button ST-round ST-blue  " data-dismiss="modal" onclick="window.location='/User/Edit?Id=@currentUser.Id'">Ok</button>
                        }
                        else if(currentUser.PositionId == 1) //Admin
                        {
                            <button type="button" class="ST-button ST-round ST-blue  " data-dismiss="modal" onclick="window.location='/User/List'">Ok</button>
                        }
                        
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
    </body>


@section scripts{
    <script src="~/wwwroot/mine/js/User.js"></script>
    <script>
        setValidationRule();
    </script>
}
